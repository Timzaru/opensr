{"ts":1380913729186,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"from decorator import decorator\nfrom django.shortcuts import redirect\nfrom django.core.urlresolvers import reverse\n\n@decorator\ndef has_participant_id(f, request):\n    if not 'participant' in request.session:\n        return get_redirection(request)  \n    return f(request)\n\n@decorator\ndef has_no_participant_id(f, request, *args):\n    if 'participant' in request.session:\n        return get_redirection(request)  \n    return f(request) if len(args) == 0 else f(request, args[0])\n\n@decorator\ndef has_completed_test(f, request):\n    if not request.session['participant'].has_completed_test:\n        return get_redirection(request)  \n    return f(request)\n\n@decorator\ndef has_not_completed_test(f, request):\n    if request.session['participant'].has_completed_test:\n        return get_redirection(request)  \n    return f(request)\n\n@decorator\ndef has_test_id(f, request):\n    if not 'test' in request.session:\n        return get_redirection(request)  \n    return f(request)\n\n@decorator\ndef has_no_test_id(f, request, *args):\n    if 'test' in request.session:\n        return get_redirection(request)\n    return f(request) if len(args) == 0 else f(request, args[0])\n\ndef get_redirection(request):\n    if 'test' in request.session:\n        if 'participant' in request.session:\n            return redirect(reverse('test'))  \n        return redirect(reverse('informed_consent'))\n    return redirect(reverse('index'))\n    "]],"start1":0,"start2":0,"length1":0,"length2":1411}]],"length":1411}
{"contributors":[],"silentsave":false,"ts":1380915043348,"patch":[[{"diffs":[[0," request.session"],[-1,":\n"],[1," \n            if request.session['participant'].has_completed_test:\n                return redirect(reverse('confirmation'))\n            else:\n    "],[0,"            retu"]],"start1":1251,"start2":1251,"length1":34,"length2":179},{"diffs":[[0,"'test'))"],[-1,"  "],[0,"\n       "]],"start1":1450,"start2":1450,"length1":18,"length2":16}]],"length":1554,"saved":false}
{"ts":1380915056749,"patch":[[{"diffs":[[0,".session"],[-1," "],[1,":"],[0,"\n       "]],"start1":1259,"start2":1259,"length1":17,"length2":17}]],"length":1554,"saved":false}
{"ts":1380915661158,"patch":[[{"diffs":[[0,"'))\n"],[-1,"            else:\n    "],[0,"    "]],"start1":1388,"start2":1388,"length1":30,"length2":8}]],"length":1532,"saved":false}
{"ts":1380915773539,"patch":[[{"diffs":[[0,"s_completed_test"],[1," == 'false'"],[0,":\n        return"]],"start1":570,"start2":570,"length1":32,"length2":43}]],"length":1543,"saved":false}
{"ts":1380915783367,"patch":[[{"diffs":[[0,"s_completed_test"],[1," == 'true'"],[0,":\n              "]],"start1":1328,"start2":1328,"length1":32,"length2":42}]],"length":1553,"saved":false}
{"ts":1380915795057,"patch":[[{"diffs":[[0,"ted_test"],[1," == 'true'"],[0,":\n      "]],"start1":763,"start2":763,"length1":16,"length2":26}]],"length":1563,"saved":false}
{"ts":1380915835504,"patch":[[{"diffs":[[0,"test"],[-1," == 'false'"],[0,":\n  "]],"start1":582,"start2":582,"length1":19,"length2":8}]],"length":1552,"saved":false}
{"ts":1380915838623,"patch":[[{"diffs":[[0,"mpleted_test"],[-1," == 'true'"],[0,":\n        re"]],"start1":748,"start2":748,"length1":34,"length2":24}]],"length":1542,"saved":false}
{"ts":1380915842831,"patch":[[{"diffs":[[0,"test"],[-1," == 'true'"],[0,":\n  "]],"start1":1329,"start2":1329,"length1":18,"length2":8}]],"length":1532,"saved":false}
{"ts":1380916343520,"patch":[[{"diffs":[[0,"s_completed_test"],[1," == 0"],[0,":\n        return"]],"start1":570,"start2":570,"length1":32,"length2":37},{"diffs":[[0,"s_completed_test"],[1," == 1"],[0,":\n        return"]],"start1":749,"start2":749,"length1":32,"length2":37}]],"length":1542,"saved":false}
{"ts":1380916348007,"patch":[[{"diffs":[[0,"ted_test"],[1," == 1"],[0,":\n      "]],"start1":1335,"start2":1335,"length1":16,"length2":21}]],"length":1547,"saved":false}
{"ts":1380916630592,"patch":[[{"diffs":[[0,"test == "],[-1,"0"],[1,"1"],[0,":\n      "]],"start1":582,"start2":582,"length1":17,"length2":17}]],"length":1547,"saved":false}
{"ts":1380916639970,"patch":[[{"diffs":[[0,"\n    if "],[-1,"not "],[0,"request."]],"start1":525,"start2":525,"length1":20,"length2":16},{"diffs":[[0,"mpleted_test == "],[-1,"1"],[1,"0"],[0,":\n        return"]],"start1":570,"start2":570,"length1":33,"length2":33}]],"length":1543,"saved":false}
{"ts":1380916693383,"patch":[[{"diffs":[[0,"mpleted_test == "],[-1,"1"],[1,"0"],[0,":\n              "]],"start1":1327,"start2":1327,"length1":33,"length2":33}]],"length":1543,"saved":false}
{"ts":1380916698777,"patch":[[{"diffs":[[0,"mpleted_test == "],[-1,"0"],[1,"1"],[0,":\n              "]],"start1":1327,"start2":1327,"length1":33,"length2":33}]],"length":1543,"saved":false}
{"ts":1380916713502,"patch":[[{"diffs":[[0,"ted_test"],[-1," == 0"],[0,":\n      "]],"start1":574,"start2":574,"length1":21,"length2":16},{"diffs":[[0,"s_completed_test"],[-1," == 1"],[0,":\n        return"]],"start1":740,"start2":740,"length1":37,"length2":32},{"diffs":[[0,"test"],[-1," == 1"],[0,":\n  "]],"start1":1325,"start2":1325,"length1":13,"length2":8}]],"length":1528,"saved":false}
